<!doctype html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            {% block title %}MSL Insights - AI Summarizer{% endblock %}
        </title>

        <link
            rel="icon"
            type="image/png"
            href="{{ url_for('static', filename='assets/dmLogo.png') }}"
        />

        <link
            href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css"
            rel="stylesheet"
        />

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />

        <style>
            .logo-placeholder {
                min-height: 40px;
                background-color: rgba(255, 255, 255, 0.1);
                border: 1px dashed rgba(255, 255, 255, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                color: #ccc;
                font-weight: 500;
                border-radius: 0.5rem;
                padding: 0.5rem 1rem;
            }
            .dm-logo {
                max-height: 222px; /* Control the max height of the logo */
                width: auto;
            }
        </style>

        {% block head %}{% endblock %}
    </head>
    <body class="d-flex flex-column min-vh-100">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="{{ url_for('index') }}">
                    <i class="fas fa-brain me-2"></i> Ultragenyx OpenAI API POC
                </a>
                <a
                    href="https://ultragenyx.sharepoint.com/sites/ITDataManagement/Contents/Forms/AllItems.aspx"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <img
                        src="{{ url_for('static', filename='assets/dmLogo.png') }}"
                        alt="Data Management Logo"
                        class="dm-logo"
                    />
                </a>
            </div>
        </nav>

        <main class="container my-4 flex-grow-1">
            {% block content %} {% endblock %}
        </main>

        <footer class="mt-auto py-3">
            <div class="container text-center">
                <small class="text-muted"
                    >Data Management - Ultragenyx 2025</small
                >
            </div>
        </footer>

        <div
            class="modal fade"
            id="config-modal"
            tabindex="-1"
            aria-labelledby="configModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="configModalLabel">
                            Prompt Configuration
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="prompt1" class="form-label"
                                >Prompt 1: Medical Insight</label
                            >
                            <textarea
                                id="prompt1"
                                class="form-control"
                                rows="3"
                            ></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="prompt2" class="form-label"
                                >Prompt 2: Categorization</label
                            >
                            <textarea
                                id="prompt2"
                                class="form-control"
                                rows="5"
                            ></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="prompt3" class="form-label"
                                >Prompt 3: Resummarization</label
                            >
                            <small class="form-text text-muted d-block mb-2">
                                This prompt uses the output of Prompt 1 and
                                Prompt 2 as its input statement.
                            </small>
                            <textarea
                                id="prompt3"
                                name="prompt3"
                                class="form-control"
                                rows="3"
                            ></textarea>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-between">
                        <button
                            id="restore-defaults-btn"
                            type="button"
                            class="btn btn-outline-warning"
                        >
                            Restore Defaults
                        </button>
                        <div>
                            <button
                                type="button"
                                class="btn btn-secondary"
                                data-bs-dismiss="modal"
                            >
                                Cancel
                            </button>
                            <button
                                id="save-config-btn"
                                type="button"
                                class="btn btn-primary"
                            >
                                Save Changes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        {% block scripts %}{% endblock %}
    </body>
</html>
